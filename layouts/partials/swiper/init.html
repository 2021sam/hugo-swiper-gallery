<!-- /Users/2021sam/apps/BEAR/hugo/05_19/hugo-swiper-gallery/layouts/partials/swiper/init.html -->

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<!-- /Users/2021sam/apps/BEAR/hugo/05_19/hugo-swiper-gallery/layouts/partials/swiper/init.html -->

<script>
  document.addEventListener("DOMContentLoaded", function () {

    console.log("ðŸ›  Swiper Init: DOM Ready");

    {{ $data := .data | default "gallery" }}
    {{ $gallery := index site.Data.swipers $data }}

    console.log("ðŸ›  Using data from: {{ $data }}.yaml");
    console.log("ðŸ›  Loaded keys:");
    {{ range $key, $_ := $gallery }}
      console.log(" - {{ $key }}");
    {{ end }}

    {{ range $key, $images := $gallery }}
      {{ if hasPrefix (lower $key) "swiper_images_" }}
        new Swiper(".{{ $key }}", {
          loop: true,
          pagination: {
            el: ".pagination-{{ $key }}",
            clickable: true
          },
          navigation: {
            nextEl: ".next-{{ $key }}",
            prevEl: ".prev-{{ $key }}"
          },
          slidesPerView: 1
        });
      {{ end }}
    {{ end }}

  });
</script>
